<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>1.5.2.- Herencia (III). </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="generator" content="eXeLearning 2.4.2 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-13"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="emptyHeader"></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Programación orientada a objetos en PHP.</a></li>
   <li class="current-page-parent"><a href="1_caractersticas_de_orientacin_a_objetos_en_php_i.html" class="current-page-parent daddy">1.- Características de orientación a objetos en PHP (I).</a>
   <ul>
      <li><a href="11_caractersticas_de_orientacin_a_objetos_en_php_ii.html" class="no-ch">1.1.- Características de orientación a objetos en PHP (II).</a></li>
      <li><a href="12_creacin_de_clases_i.html" class="daddy">1.2.- Creación de clases (I).</a>
      <ul class="other-section">
         <li><a href="121_creacin_de_clases_ii.html" class="no-ch">1.2.1.- Creación de clases (II).</a></li>
         <li><a href="122_creacin_de_clases_iii.html" class="no-ch">1.2.2.- Creación de clases (III).</a></li>
         <li><a href="123_creacin_de_clases_iv.html" class="no-ch">1.2.3.- Creación de clases (IV).</a></li>
      </ul>
      </li>
      <li><a href="13_utilizacin_de_objetos_i.html" class="daddy">1.3.- Utilización de objetos (I).</a>
      <ul class="other-section">
         <li><a href="131_utilizacin_de_objetos_ii.html" class="no-ch">1.3.1.- Utilización de objetos (II).</a></li>
         <li><a href="132_utilizacin_de_objetos_iii.html" class="no-ch">1.3.2.- Utilización de objetos (III).</a></li>
      </ul>
      </li>
      <li><a href="14_mecanismos_de_mantenimiento_del_estado.html" class="no-ch">1.4.- Mecanismos de mantenimiento del estado.</a></li>
      <li class="current-page-parent"><a href="15_herencia_i.html" class="current-page-parent daddy">1.5.- Herencia (I).</a>
      <ul>
         <li><a href="151_herencia_ii.html" class="no-ch">1.5.1.- Herencia (II).</a></li>
         <li id="active"><a href="152_herencia_iii.html" class="active no-ch">1.5.2.- Herencia (III).</a></li>
      </ul>
      </li>
      <li><a href="16_interfaces_i.html" class="daddy">1.6.- Interfaces (I).</a>
      <ul class="other-section">
         <li><a href="161_interfaces_ii.html" class="no-ch">1.6.1.- Interfaces (II).</a></li>
      </ul>
      </li>
      <li><a href="17_ejemplo_de_poo_en_php_i.html" class="daddy">1.7.- Ejemplo de POO en PHP (I).</a>
      <ul class="other-section">
         <li><a href="171_ejemplo_de_poo_en_php_ii.html" class="no-ch">1.7.1.- Ejemplo de POO en PHP (II).</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="2_programacin_en_capas.html" class="daddy">2.- Programación en capas.</a>
   <ul class="other-section">
      <li><a href="21_separacin_de_la_lgica_de_negocio_i.html" class="daddy">2.1.- Separación de la lógica de negocio (I).</a>
      <ul class="other-section">
         <li><a href="211_separacin_de_la_lgica_de_negocio_ii.html" class="no-ch">2.1.1.- Separación de la lógica de negocio (II).</a></li>
      </ul>
      </li>
      <li><a href="22_generacin_del_interface_de_usuario.html" class="no-ch">2.2.- Generación del interface de usuario.</a></li>
   </ul>
   </li>
   <li><a href="anexo_licencias_de_recursos.html" class="no-ch">Anexo.- Licencias de recursos.</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="151_herencia_ii.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="16_interfaces_i.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">1.5.2.- Herencia (III).</h1></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id42">
<div class="iDevice emphasis0">
<div id="ta42_73" class="block iDevice_content">
<img alt="Dibujo de una bombilla gigante, con el interior dividido en pisos en los que trabaja gente." class="elemento_centrado" height="192" src="DWES05_CONT_R14_Bombilla_oficina.jpg" style="width: 144px; height: 192px" title="Bombilla oficina." width="144" />
<br />
<p>
Vamos a hacer una pequeña modificación en nuestra clase <code>Producto</code>. Para facilitar la creación de nuevos objetos, crearemos un constructor al que se le pasará un <span lang="en">array</span> con los valores de los atributos del nuevo producto.
</p>
<div class="codigo elemento_centrado" style="width: 34.05em">
<div class="texto_izquierda">
<pre>
<code>class Producto {</code>
</pre>
<pre>
<code>    public $codigo;</code>
</pre>
<pre>
<code>    public $nombre;</code>
</pre>
<pre>
<code>    public $nombre_corto;</code>
</pre>
<pre>
<code>    public $PVP;</code>
</pre>
<pre>
<code>        </code>
</pre>
<pre>
<code>    public function muestra() {</code>
</pre>
<pre>
<code>        print &quot;&lt;p&gt;&quot; . $this-&gt;codigo . &quot;&lt;/p&gt;&quot;;</code>
</pre>
<pre>
<code>    }</code>
</pre>
<pre>
<code>    </code>
</pre>
<pre>
<code>    public function __construct($row) {</code>
</pre>
<pre>
<code>        $this-&gt;codigo = $row['cod'];</code>
</pre>
<pre>
<code>        $this-&gt;nombre = $row['nombre'];</code>
</pre>
<pre>
<code>        $this-&gt;nombre_corto = $row['nombre_corto'];</code>
</pre>
<pre>
<code>        $this-&gt;PVP = $row['PVP'];</code>
</pre>
<pre>
<code>    }</code>
</pre>
<pre>
<code>}</code>
</pre>
</div>
</div>
<p>
¿Qué pasa ahora con la clase <code>TV</code>, qué hereda de <code>Producto</code>? Cuando crees un nuevo objeto de esa clase, ¿se llamará al constructor de <code>Producto</code>? ¿Puedes crear un nuevo constructor específico para <code>TV</code> que redefina el comportamiento de la clase base?
</p>
<p>
Empezando por esta última pregunta, obviamente puedes definir un nuevo constructor para las clases heredadas que redefinan el comportamiento del que existe en la clase base, tal y como harías con cualquier otro método. Y dependiendo de si programas o no el constructor en la clase heredada, se llamará o no automáticamente al constructor de la clase base.
</p>
<p>
En <span lang="en">PHP5</span>, si la clase heredada no tiene constructor propio, se llamará automáticamente al constructor de la clase base (si existe). Sin embargo, si la clase heredada define su propio constructor, deberás ser tú el que realice la llamada al constructor de la clase base si lo consideras necesario, utilizando para ello la palabra <code>parent</code> y el operador de resolución de ámbito.
</p>
<div class="codigo elemento_centrado" style="width: 40.1em">
<div class="texto_izquierda">
<pre>
<code>class TV extends Producto {</code>
</pre>
<pre>
<code>    public $pulgadas;</code>
</pre>
<pre>
<code>    public $tecnologia;</code>
</pre>
<pre>
<code>        </code>
</pre>
<pre>
<code>    public function muestra() {</code>
</pre>
<pre>
<code>        print &quot;&lt;p&gt;&quot; . $this-&gt;pulgadas . &quot; pulgadas&lt;/p&gt;&quot;;</code>
</pre>
<pre>
<code>    }</code>
</pre>
<pre>
<code>    </code>
</pre>
<pre>
<code>    public function __construct($row) {</code>
</pre>
<pre>
<code>        parent::__construct($row);</code>
</pre>
<pre>
<code>        $this-&gt;pulgadas = $row['pulgadas'];</code>
</pre>
<pre>
<code>        $this-&gt;tecnologia = $row['tecnologia'];</code>
</pre>
<pre>
<code>    }</code>
</pre>
<pre>
<code>}</code>
</pre>
</div>
</div>
<p>
Ya viste con anterioridad cómo se utilizaba la palabra clave <code>self</code> para tener acceso a la clase actual. La palabra <code>parent</code> es similar. Al utilizar <code>parent</code> haces referencia a la clase base de la actual, tal y como aparece tras <code>extends</code>.
</p>

</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id43">
<div class="iDevice emphasis_autoevaluacionfpd" >
<div class="iDevice_header"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-43_60" action="#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion43_60" class="block question iDevice_content">
<strong>Si una subclase no tiene método constructor, y su clase base sí lo tiene, cuando se instancie un nuevo objeto de la subclase:</strong>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i43_63" class="sr-av"><a href="#answer-43_63">Opción 1</a></label><input type="radio" name="option43_60" id="i43_63" class="exe-radio-option exe-radio-option-0-2-43_60-multi"/>
</p>
<div class="iDevice_answer-content" id="answer-43_63"><a name="answer-43_63"></a>
<div id="taans43_63" class="block iDevice_content">
Se llamará automáticamente al constructor de la clase base.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i43_123" class="sr-av"><a href="#answer-43_123">Opción 2</a></label><input type="radio" name="option43_60" id="i43_123" class="exe-radio-option exe-radio-option-1-2-43_60-multi"/>
</p>
<div class="iDevice_answer-content" id="answer-43_123"><a name="answer-43_123"></a>
<div id="taans43_123" class="block iDevice_content">
No se llamará automáticamente al constructor de la clase base. 

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b43_60" class="feedback js-hidden"><a name="sa0b43_60"></a>
<div id="taf43_63" class=" iDevice_content">
Efectivamente. Fíjate que esta llamada automática solo ocurre cuando la clase heredada no tiene constructor; en otro caso tendrás que hacer tú la llamada manualmente.

</div>
</div>
<div id="sa1b43_60" class="feedback js-hidden"><a name="sa1b43_60"></a>
<div id="taf43_123" class=" iDevice_content">
Revisa el comportamiento de los constructores en la herencia que acabas de estudiar.

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="#answer-43_63">Opción correcta</a><span> (<a href="#sa0b43_60">Retroalimentación</a>)</span></li>
<li><a href="#answer-43_123">Incorrecto</a><span> (<a href="#sa1b43_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="151_herencia_ii.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="16_interfaces_i.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>