<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="es" xml:lang="es" xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>2.2.- Generación del interface de usuario. </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta http-equiv="content-language" content="es" />
<meta name="generator" content="eXeLearning 2.4.2 - exelearning.net" />
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
</head>
<body class="exe-web-site" id="exe-node-29"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<div id="emptyHeader"></div>
<div id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Programación orientada a objetos en PHP.</a></li>
   <li><a href="1_caractersticas_de_orientacin_a_objetos_en_php_i.html" class="daddy">1.- Características de orientación a objetos en PHP (I).</a>
   <ul class="other-section">
      <li><a href="11_caractersticas_de_orientacin_a_objetos_en_php_ii.html" class="no-ch">1.1.- Características de orientación a objetos en PHP (II).</a></li>
      <li><a href="12_creacin_de_clases_i.html" class="daddy">1.2.- Creación de clases (I).</a>
      <ul class="other-section">
         <li><a href="121_creacin_de_clases_ii.html" class="no-ch">1.2.1.- Creación de clases (II).</a></li>
         <li><a href="122_creacin_de_clases_iii.html" class="no-ch">1.2.2.- Creación de clases (III).</a></li>
         <li><a href="123_creacin_de_clases_iv.html" class="no-ch">1.2.3.- Creación de clases (IV).</a></li>
      </ul>
      </li>
      <li><a href="13_utilizacin_de_objetos_i.html" class="daddy">1.3.- Utilización de objetos (I).</a>
      <ul class="other-section">
         <li><a href="131_utilizacin_de_objetos_ii.html" class="no-ch">1.3.1.- Utilización de objetos (II).</a></li>
         <li><a href="132_utilizacin_de_objetos_iii.html" class="no-ch">1.3.2.- Utilización de objetos (III).</a></li>
      </ul>
      </li>
      <li><a href="14_mecanismos_de_mantenimiento_del_estado.html" class="no-ch">1.4.- Mecanismos de mantenimiento del estado.</a></li>
      <li><a href="15_herencia_i.html" class="daddy">1.5.- Herencia (I).</a>
      <ul class="other-section">
         <li><a href="151_herencia_ii.html" class="no-ch">1.5.1.- Herencia (II).</a></li>
         <li><a href="152_herencia_iii.html" class="no-ch">1.5.2.- Herencia (III).</a></li>
      </ul>
      </li>
      <li><a href="16_interfaces_i.html" class="daddy">1.6.- Interfaces (I).</a>
      <ul class="other-section">
         <li><a href="161_interfaces_ii.html" class="no-ch">1.6.1.- Interfaces (II).</a></li>
      </ul>
      </li>
      <li><a href="17_ejemplo_de_poo_en_php_i.html" class="daddy">1.7.- Ejemplo de POO en PHP (I).</a>
      <ul class="other-section">
         <li><a href="171_ejemplo_de_poo_en_php_ii.html" class="no-ch">1.7.1.- Ejemplo de POO en PHP (II).</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li class="current-page-parent"><a href="2_programacin_en_capas.html" class="current-page-parent daddy">2.- Programación en capas.</a>
   <ul>
      <li><a href="21_separacin_de_la_lgica_de_negocio_i.html" class="daddy">2.1.- Separación de la lógica de negocio (I).</a>
      <ul class="other-section">
         <li><a href="211_separacin_de_la_lgica_de_negocio_ii.html" class="no-ch">2.1.1.- Separación de la lógica de negocio (II).</a></li>
      </ul>
      </li>
      <li id="active"><a href="22_generacin_del_interface_de_usuario.html" class="active no-ch">2.2.- Generación del interface de usuario.</a></li>
   </ul>
   </li>
   <li><a href="anexo_licencias_de_recursos.html" class="no-ch">Anexo.- Licencias de recursos.</a></li>
</ul>
</div>
<div id='topPagination'>
<div class="pagination noprt">
<a href="211_separacin_de_la_lgica_de_negocio_ii.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="anexo_licencias_de_recursos.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
<div id="main-wrapper">
<div id="main"><a name="main"></a>
<div id="nodeDecoration"><h1 id="nodeTitle">2.2.- Generación del interface de usuario.</h1></div>
<div class="iDevice_wrapper FreeTextfpdIdevice" id="id58">
<div class="iDevice emphasis0">
<div id="ta58_73" class="block iDevice_content">
<div class="elemento_centrado">
<div class="elemento_centrado">
<a href="DWES05_CONT_R24_Plantillas_Smarty.jpg" title="Ampliar imagen."><img alt="Captura de pantalla de un proyecto en la aplicación NetBeans en la que se muestran las plantillas de la aplicación de tienda web. Los nombres de las plantillas que se muestran son: cesta.tpl, listaproductos.tpl, login.tpl, productos.tpl y productoscesta.tpl." class="imagen_ampliable" height="168" src="DWES05_CONT_R24_Plantillas_Smarty_miniatura.JPG" style="width: 156px; height: 168px" title="Plantillas Smarty." width="156" /></a>
</div>
</div>
<br />
<p>
Las plantillas de <span lang="en">Smarty</span> son ficheros con extensión <code>tpl</code>, en los que puedes incluir prácticamente cualquier contenido propio de una página <span lang="en">web</span>. Además, en el medio intercalarás delimitadores para indicar la inclusión de datos y de lógica propia de la presentación.
</p>
<p>
Los delimitadores de <span lang="en">Smarty</span> son llaves. De los distintos elementos que puedes incluir entre las llaves están:
</p>
<ul class="lista_verificacion">
	<li>Comentarios. Van encerrados entre asteriscos.
	<div class="codigo elemento_centrado" style="width: 30em">
	<div class="texto_izquierda">
<pre>
<code>{* Este es un comentario de plantilla en Smarty *}</code>
</pre>
	</div>
	</div>
	</li>
	<li>Variables. Se incluye simplemente su nombre, precedido por el símbolo <code>$</code>. También se pueden especificar modificadores, separándolos de la variable por una barra vertical. Existen varios modificadores para, por ejemplo, dar formato a una fecha (<code>date_format</code>) o mostrar un contenido predeterminado si la variable está vacía (<code>default</code>).
	<div class="codigo elemento_centrado" style="width: 16.45em">
	<div class="texto_izquierda">
<pre>
<code>{$producto-&gt;codigo}</code>
</pre>
	</div>
	</div>
	</li>
	<li style="margin-top: 10px">Estructura de procesamiento condicional: <code>if</code>, <code>elseif</code>, <code>else</code>. Permite usar condiciones, de forma similar a <span lang="en">PHP</span>, para decidir si se procesa o no cierto contenido.
	<div class="codigo elemento_centrado" style="width: 21.4em">
	<div class="texto_izquierda">
<pre>
<code>{if empty($productoscesta)}</code>
</pre>
<pre>
<code>    &lt;p&gt;Cesta vacía&lt;/p&gt;</code>
</pre>
<pre>
<code>{else}</code>
</pre>
<pre>
<code>    …</code>
</pre>
<pre>
<code>{/if}</code>
</pre>
	</div>
	</div>
	</li>
	<li style="margin-top: 10px">Bucles: <code>foreach</code>. Son muy útiles para mostrar varios elementos, por ejemplo en una tabla. Deberás indicar al menos con <code>from</code> el <span lang="en">array</span> en el que están los elementos, y con <code>item</code> la variable a la que se le irán asignado los elementos en cada iteración.
	<div class="codigo elemento_centrado" style="width: 30.2em">
	<div class="texto_izquierda">
<pre>
<code>{foreach from=$productoscesta item=producto}</code>
</pre>
<pre>
<code>  &lt;p&gt;{$producto-&gt;codigo}&lt;/p&gt;</code>
</pre>
<pre>
<code>{/foreach}</code>
</pre>
	</div>
	</div>
	</li>
	<li style="margin-top: 10px">Inclusión de otras plantillas. <span lang="en">Smarty</span> permite descomponer una plantilla compleja en trozos más pequeños y almacenarlos en otras plantillas, que se incluirán en la actual utilizando la sentencia <code>include</code>.
	<div class="codigo elemento_centrado" style="width: 26.35em">
	<div class="texto_izquierda">
<pre>
<code>&lt;div id=&quot;cesta&quot;&gt;      </code>
</pre>
<pre>
<code>  {include file=&quot;productoscesta.tpl&quot;}</code>
</pre>
<pre>
<code>&lt;/div&gt;</code>
</pre>
<pre>
<code>&lt;div id=&quot;productos&quot;&gt;</code>
</pre>
<pre>
<code>  {include file=&quot;listaproductos.tpl&quot;}</code>
</pre>
<pre>
<code>&lt;/div&gt;</code>
</pre>
	</div>
	</div>
	</li>
</ul>

</div>
</div>
</div>
<div class="iDevice_wrapper DebesconocerfpdIdevice em_iDevice" id="id59">
<div class="iDevice emphasis_debesconocerfpd" >
<div class="iDevice_header"><h2 class="iDeviceTitle">Debes conocer</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta59_48" class="block iDevice_content">
<p>Las que acabas de ver son una pequeña parte de las funcionalidades que ofrece <span lang="en">Smarty</span>. En su página <span lang="en">web</span>, puedes acceder a la documentación completa. En el momento de escribir estas líneas, la última versión disponible en español de la documentación era la correspondiente a la versión 2.</p>
<p class="enlace_centrado"><a title="Acceder a documentación de Smarty. " href="http://www.smarty.net/docsv2/es/" target="_blank">Última versión disponible en español de la documentación.</a></p>
<p class="enlace_centrado" style="text-align: left;">La última versión actual es la 3, pero su documentación está en inglés:</p>
<p class="enlace_centrado" style="text-align: center;"><a title="Documentación en inglés de la última versión de smarty" href="http://www.smarty.net/docs/en/" target="_blank">Documentación en inglés de smarty 3.</a></p>
<p class="enlace_centrado" style="text-align: left;"></p>
<p class="enlace_centrado" style="text-align: left;">Puedes completar la documentación con estos 2 vídeos:</p>
<ul>
<li class="enlace_centrado" style="text-align: left;"><a href="https://www.youtube.com/watch?time_continue=1&amp;v=x2xxGXJixRQ" target="_blank">https://www.youtube.com/watch?time_continue=1&amp;v=x2xxGXJixRQ</a></li>
<li class="enlace_centrado" style="text-align: left;"><a href="https://www.youtube.com/watch?v=Hlcj2LAvf-s&amp;feature=youtu.be" target="_blank">https://www.youtube.com/watch?v=Hlcj2LAvf-s&amp;feature=youtu.be</a></li>
</ul>
<p></p>
<p>Nota: Ten en cuenta que hay un archivo php que trae Xampp llamado DB.php en el directorio /xampp/php/pear/, que entra en conflicto con el archivo DB.php del proyecto. Si renombras el del proyecto de la tienda y le pones por ejemplo BD.php y cambias los includes que hagan referencia al mismo, ya funciona.</p>
</div>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EjercicioresueltofpdIdevice em_iDevice" id="id60">
<div class="iDevice emphasis_ejercicioresueltofpd" >
<div class="iDevice_header"><h2 class="iDeviceTitle">Ejercicio resuelto</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div id="ta60_67" class="block story iDevice_content">

</div>
<div id="taquesQuestion0b60" class="block iDevice_content">
<p>A partir del c&oacute;digo obtenido utilizando POO para la tienda <span lang="en">web</span>, aplica el motor de plantillas <span lang="en">Smarty</span> para dividir la l&oacute;gica de presentaci&oacute;n de la l&oacute;gica de negocio. Utiliza como apoyo la documentaci&oacute;n disponible en Internet. Cuando acabes, puedes comparar lo que has obtenido con la soluci&oacute;n propuesta.</p>
</div>
<form name="feedback-form-quesFeedback0b60" action="#" onsubmit="return false" class="feedback-form">
<div class="block iDevice_buttons feedback-button js-required">
<p><script type="text/javascript">var feedbackquesFeedback0b60text = "Mostrar retroalimentación";</script><input type="button" name="toggle-feedback-quesFeedback0b60" value="Mostrar retroalimentación" class="feedbackbutton feedback-toggler" /></p>
</div>
<div id="feedback-quesFeedback0b60" class="feedback js-feedback js-hidden">
<h3 class="js-sr-av">Retroalimentación</h3>
<div class="enlace_centrado"><a class="paquete" title="Descargar soluci&oacute;n al ejercicio de tienda web utilizando el motor de plantillas Smarty. [zip - 0.01 MB]" href="DWES05_CONT_R25_Tienda_web_Smarty.zip">Soluci&oacute;n propuesta.</a> <span class="tamano"> (0.01 MB) </span></div></div>
</form>
</div>
</div>
</div>
</div>
<div class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id61">
<div class="iDevice emphasis_autoevaluacionfpd" >
<div class="iDevice_header"><h2 class="iDeviceTitle">Autoevaluación</h2></div>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<div class="question">
<form name="multi-choice-form-61_60" action="#" onsubmit="return false" class="activity-form">
<h3 class="js-sr-av">Pregunta</h3>
<div id="taquestion61_60" class="block question iDevice_content">
<strong>Las plantillas que crees en <span lang="en">Smarty</span> es preferible alojarlas: 
</strong>

</div>
<div class="iDevice_answers">
<h4 class="js-sr-av">Respuestas</h4>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i61_63" class="sr-av"><a href="#answer-61_63">Opción 1</a></label><input type="radio" name="option61_60" id="i61_63" class="exe-radio-option exe-radio-option-0-2-61_60-multi"/>
</p>
<div class="iDevice_answer-content" id="answer-61_63"><a name="answer-61_63"></a>
<div id="taans61_63" class="block iDevice_content">
En un lugar no accesible por el servidor <span lang="en">web</span>.

</div>
</div>
</div>
<div class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i61_97" class="sr-av"><a href="#answer-61_97">Opción 2</a></label><input type="radio" name="option61_60" id="i61_97" class="exe-radio-option exe-radio-option-1-2-61_60-multi"/>
</p>
<div class="iDevice_answer-content" id="answer-61_97"><a name="answer-61_97"></a>
<div id="taans61_97" class="block iDevice_content">
En un lugar accesible por el servidor <span lang="en">web</span>.

</div>
</div>
</div>
</div>
<div class="iDevice_feedbacks js-feedback">
<h4 class="js-sr-av">Retroalimentación</h4>
<div id="sa0b61_60" class="feedback js-hidden"><a name="sa0b61_60"></a>
<div id="taf61_63" class=" iDevice_content">
Correcta. En realidad es <span lang="en">PHP</span> el que debe acceder a ellas, no el servidor <span lang="en">web</span>.

</div>
</div>
<div id="sa1b61_60" class="feedback js-hidden"><a name="sa1b61_60"></a>
<div id="taf61_97" class=" iDevice_content">
No, pues en este caso podrían acceder a ellas los usuarios de tu web. Recuerda que es el código <span lang="en">PHP</span> el que utiliza las plantillas para generar las páginas que ven los usuarios, y por tanto éstos no necesitan acceder a ellas a través del servidor <span lang="en">web</span>.

</div>
</div>
</div>
</form>
<div class="iDevice_solution feedback js-hidden">
<h4>Solución</h4>
<ol>
<li><a href="#answer-61_63">Opción correcta</a><span> (<a href="#sa0b61_60">Retroalimentación</a>)</span></li>
<li><a href="#answer-61_97">Incorrecto</a><span> (<a href="#sa1b61_60">Retroalimentación</a>)</span></li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id='bottomPagination'>
<div class="pagination noprt">
<a href="211_separacin_de_la_lgica_de_negocio_ii.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="anexo_licencias_de_recursos.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</div>
</div>
</div>
<script type="text/javascript" src="_intef_js.js"></script></body></html>